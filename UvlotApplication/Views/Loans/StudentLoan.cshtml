@{
    ViewBag.Title = "Sigin";
    Layout = "~/Views/Shared/_LoginLayout.cshtml";
}
@model UvlotApplication.Classes.TableObjects.LoanApplication
<link rel="stylesheet" href="//code.jquery.com/ui/1.11.4/themes/smoothness/jquery-ui.css">
<script src="//code.jquery.com/jquery-1.10.2.js"></script>
<script src="//code.jquery.com/ui/1.11.4/jquery-ui.js"></script>
<script>
    $(document).ready(function () {
        $("#DOB").datepicker({
            changeMonth: true,
            changeYear: true,
            yearRange: "-80:+0",
            onSelect: function () {
                console.log('s');
            },
            onChangeMonthYear: function () {
                console.log('o');
            }
        });
    });
 
</script> 


    <div class="page-header01">
        <div class="container">
            <div class="row">
                <div class="col-md-12 text-center ">
                    <h2>Student Loan</h2>
                    <nav aria-label="breadcrumb">
                        <ol class="breadcrumb">
                            <li class="breadcrumb-item"><a href="/">Home</a></li>
                            <li class="breadcrumb-item active" aria-current="page">Apply Now</li>
                        </ol>
                    </nav>
                </div>
            </div>
        </div>
    </div>
    <!-- end of page header -->
    <section class="section-padding contact-us-padding form-padding">
        <div class="container">
            <div class="row justify-content-center">
                <div class="col-md-12 col-lg-10">
                    @using (Html.BeginForm("StudentLoan", "Loans", FormMethod.Post))
                    {
                        <form action="#" method="post">

                     <input type="text" name="InstitutionFk" value="@Model.institutionFk" style="display:none;" />
                           
                                
                                <div class="row list-input">
                                    <div class="col-md-12 col-lg-12 formHeaderBg">
                                        <h3 class="formHeader">Personal Information </h3>
                                    </div>


                                    <div class="col-md-6 mr0">
                                        <div class="single-get-touch">
                                            <select id="Titles" name="Titles" data-live-search="true" required="required">
                                                <option value="" default selected data-tokens="Select State">SELECT TITLE</option>
                                                @foreach (var nTitle in ViewBag.nTitles)
                                                {
                                                    <option id="Title" value="@nTitle.ID" data-tokens="@nTitle.Name">@nTitle.Name</option>
                                                }
                                            </select>
                                            @*@Html.DropDownListFor(model => model.Title_FK, (SelectList)ViewData["nTitles"], "Select Title", new { @id = "Titles", @required = "required", name = "Titles" })*@

                                        </div>
                                    </div>

                                    <div class="col-md-6 right">
                                        <div class="single-get-touch">
                                            @Html.TextBoxFor(model => model.BVN, new { placeholder = "BVN*", required = "required" })
                                        </div>
                                    </div>

                                    <div class="col-md-6 mr0">
                                        <div class="single-get-touch">
                                            @Html.TextBoxFor(model => model.Surname, new { placeholder = "LAST NAME*", required = "required" })
                                        </div>
                                    </div>

                                    <div class="col-md-6">
                                        <div class="single-get-touch">
                                            @Html.TextBoxFor(model => model.Firstname, new { placeholder = "FIRST NAME*", required = "required" })
                                        </div>
                                    </div>

                                    <div class="col-md-6 mr0">
                                        <div class="single-get-touch">
                                            @Html.TextBoxFor(model => model.DateOfBirth, new { placeholder = "DATE OF BIRTH*", required = "required", id = "DOB", @readonly = "true" })
                                        </div>
                                    </div>


                                    <div class="col-md-6">
                                        <div class="single-get-touch">
                                            <select name="selectGender" required>
                                                <option default selected value="">SELECT GENDER</option>
                                                <option value="1">Male</option>
                                                <option value="2">Female</option>
                                            </select>

                                            @*@Html.DropDownListFor(model => model.Gender_FK, (SelectList)ViewData["nGender"], "Select Gender", new { @id = "selectGender", @name = "selectGender" })*@
                                        </div>
                                    </div>

                                    <div class="col-md-6 mr0">
                                        <div class="single-get-touch">
                                            <select id="nLevelEdu" name="nLevelEdu" data-live-search="true" required="required">

                                                <option default selected value="">LEVEL OF EDUCATION</option>
                                                <option value="1">Undergraduate</option>
                                                <option value="2">Graduate</option>

                                            </select>
                                        </div>
                                    </div>


                                    <div class="col-md-6">
                                        <div class="single-get-touch">

                                            @Html.TextBoxFor(model => model.IdentficationNumber, new { placeholder = "Matric Number", required = "required" })
                                        </div>
                                    </div>


                                    <div class="col-md-6 mr0">
                                        <div class="single-get-touch">
                                            <select id="meansOfID" name="meansOfID" data-live-search="true" required="required">
                                                <option value="" default selected data-tokens="Select MeansOfID">MEANS OF IDENTIFICATION</option>
                                                @foreach (var nMeansOfID in ViewBag.nMeansOfIDs)
                                                {
                                                    <option id="meansOfIDs" value="@nMeansOfID.ID" data-tokens="@nMeansOfID.Name">@nMeansOfID.Name</option>
                                                }
                                            </select>
                                            @*@Html.DropDownListFor(model => model.MeansOfID_FK, (SelectList)ViewData["nMeansOfIDs"], "Select Mean Of Id", new { @id = "meansOfID", @required = "required", @name = "meansOfID" })*@
                                        </div>
                                    </div>


                                    <div class="col-md-6">
                                        <div class="single-get-touch">

                                            <select id="Marital" name="Marital" data-live-search="true" required="required">
                                                <option value="" default selected data-tokens="Select MeansOfID">Marital Status</option>
                                                @foreach (var nMarital in ViewBag.nMarital)
                                                {
                                                    <option id="meansOfIDs" value="@nMarital.ID" data-tokens="@nMarital.Name">@nMarital.Name</option>
                                                }
                                            </select>
                                            @*@Html.DropDownListFor(model => model.MaritalStatus_FK, (SelectList)ViewData["nMarital"], "Select Marital Status", new { @id = "Marital", @required = "required", @name = "Marital" })*@
                                        </div>
                                    </div>


                                    <div class="col-md-12 col-lg-12 formHeaderBg">
                                        <h3 class="formHeader">Contact Information </h3>
                                    </div>
                                    <div class="col-md-6 mr0">
                                        <div class="single-get-touch">

                                            @Html.TextBoxFor(model => model.EmailAddress, new { placeholder = "PERSONAL EMAIL", required = "required", @type = "email" })
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="single-get-touch">
                                            @Html.TextBoxFor(model => model.PhoneNumber, new { placeholder = "PHONE NUMBER", required = "required" })
                                        </div>
                                    </div>
                                    <div class="col-md-6 mr0">
                                        <div class="single-get-touch">
                                            @Html.TextBoxFor(model => model.ContactAddress, new { placeholder = "HOME ADDRESS", required = "required" })
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="single-get-touch">
                                            @Html.TextBoxFor(model => model.Landmark, new { placeholder = "LANDMARK*", required = "required" })
                                        </div>
                                    </div>
                                    <div class="col-md-6 mr0">
                                        <div class="single-get-touch">

                                            <select id="States" name="States" data-live-search="true" required="required">
                                                <option value="" default selected data-tokens="Select State">STATE OF RESIDENCE</option>
                                                @foreach (var nState in ViewBag.nStates)
                                                {
                                                    <option id="States" value="@nState.ID" data-tokens="@nState.Name">@nState.Name</option>
                                                }
                                            </select>
                                            @*@Html.DropDownListFor(model => model.StateofResidence_FK, (SelectList)ViewData["nStates"], "Select Residence Type", new { @id = "States", @name = "States" })*@
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="single-get-touch">
                                            <select id="lgaList" name="lgaList" class="sikSelect" data-live-search="true" required="required" onchange="getText();">
                                                <option data-tokens="SELECT LGA"></option>
                                            </select>
                                        </div>
                                    </div>
                                    <div class="col-md-6 mr0">
                                        <div class="single-get-touch">

                                            @Html.TextBoxFor(model => model.ClosestBusStop, new { placeholder = "CLOSEST BUS STOP*", required = "required" })
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="single-get-touch">
                                            @*<select id="AccomodationTypes" name="AccomodationTypes" data-live-search="true" required="required">
                            <option data-tokens="Select AccomodationTypes">ACCOMMODATION TYPE</option>
                            @foreach (var nAccomodationType in ViewBag.nAccomodationTypes)
                            {
                                <option id="AccomodationTypes" value="@nAccomodationType.ID" data-tokens="@nAccomodationType.Name">@nAccomodationType.Name</option>
                            }
                        </select>*@
                                        </div>
                                    </div>

                                    <div class="col-md-12 col-lg-12 formHeaderBg">
                                        <h3 class="formHeader">TERTIARY INSTITUTION DETAILS</h3>
                                    </div>
                                    <div class="col-md-6 mr0">
                                        <div class="single-get-touch">
                                            @Html.TextBoxFor(model => model.Organization, new { placeholder = "TERTIARY INSTITUTION", required = "required" })
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="single-get-touch">
                                            <input type="text" name="FACULTY" placeholder="FACULTY" required>
                                        </div>
                                    </div>
                                    <div class="col-md-6 mr0">
                                        <div class="single-get-touch">
                                            @Html.TextBoxFor(model => model.InstitutionAddress, new { placeholder = "INSTITUTION ADDRESS", required = "required" })
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="single-get-touch">
                                            @Html.TextBoxFor(model => model.IdentficationNumber, new { placeholder = "STUDENT ID/MATRIC NUMBER", required = "required" })
                                        </div>
                                    </div>
                                    <div class="col-md-6 mr0">
                                        <div class="single-get-touch">
                                            <select default selected name="Year_admission" required>
                                                <option default selected value="">YEAR OF ADMISSION</option>
                                                <option value="1999">1999</option>
                                                <option value="2000">2000</option>
                                                <option value="2001">2001</option>
                                                <option value="2002">2002</option>
                                                <option value="2003">2003</option>
                                                <option value="2004">2004</option>
                                            </select>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="single-get-touch">
                                            <select name="Year_Completion" required>
                                                <option default selected value="">YEAR OF COMPLETION</option>
                                                <option value="1999">1999</option>
                                                <option value="2000">2000</option>
                                                <option value="2001">2001</option>
                                                <option value="2002">2002</option>
                                                <option value="2003">2003</option>
                                                <option value="2004">2004</option>
                                            </select>
                                        </div>
                                    </div>
                                    <div class="col-md-6 mr0">
                                        <div class="single-get-touch">
                                            <input type="text" name="department" placeholder="DEPARTMENT" required>
                                        </div>
                                    </div>

                                    <div class="col-md-6">
                                        <div class="single-get-touch">
                                            <input type="text" name="Course" placeholder="Course OF Study" required>
                                        </div>
                                    </div>

                                    <div class="col-md-6 mr0">
                                        <div class="single-get-touch">
                                            <input type="text" name="GPA" placeholder="CURRENT GPA" required>
                                        </div>
                                    </div>
                                    <div class="col-md-6 ">
                                        <div class="single-get-touch">


                                            <select name="CurrentLevel" required>
                                                <option default selected value="">Current Level</option>
                                                <option value="1">100</option>
                                                <option value="2">200</option>
                                                <option value="3">300</option>
                                                <option value="4">400</option>
                                            </select>
                                        </div>
                                    </div>
                                    <div class="col-md-6 mr0">
                                        <div class="single-get-touch">

                                            <select name="CurrentSemester" required>
                                                <option default selected value="">Current Semester</option>
                                                <option value="1">first</option>
                                                <option value="2">Second</option>

                                            </select>
                                        </div>
                                    </div>
                                    @*<div class="col-md-6 mr0">
                    <div class="single-get-touch">
                        <input type="text" name="officeEmail" placeholder="OFFICIAL EMAIL" required>
                    </div>
                </div>*@

                                    <div class="col-md-12 col-lg-12 formHeaderBg">
                                        <h3 class="formHeader">Next Of Kin Information </h3>
                                    </div>
                                    <div class="col-md-6 mr0">
                                        <div class="single-get-touch">
                                            @Html.TextBoxFor(model => model.NOK_FullName, new { placeholder = "FULL NAME*", required = "required" })
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="single-get-touch">
                                            @Html.TextBoxFor(model => model.NOK_Relationship, new { placeholder = "RELATIONSHIP*", required = "required" })
                                        </div>
                                    </div>
                                    <div class="col-md-6 mr0">
                                        <div class="single-get-touch">
                                            @Html.TextBoxFor(model => model.NOK_HomeAddress, new { placeholder = "HOME ADDRESS*", required = "required" })
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="single-get-touch">
                                            @Html.TextBoxFor(model => model.NOK_EmailAddress, new { placeholder = "EMAIL ADDRESS*", required = "required", @type = "email" })
                                        </div>
                                    </div>
                                    <div class="col-md-6 mr0">
                                        <div class="single-get-touch">
                                            @Html.TextBoxFor(model => model.NOK_PhoneNumber, new { placeholder = "PHONE NUMBER*", required = "required" })
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="single-get-touch">
                                            @*<input type="text" name="nokHomeAddress" placeholder="HOME ADDRESS" required>*@
                                        </div>
                                    </div>

                                    <div class="col-md-12 col-lg-12 formHeaderBg">
                                        <h3 class="formHeader">Credit Facility Request</h3>
                                    </div>
                                    <div class="col-md-6 mr0">
                                        <div class="single-get-touch">
                                            @*@Html.TextBoxFor(model => model.LoanAmount, new { placeholder = "LOAN AMOUNT*", required = "required" })*@

                                            @Html.TextBoxFor(model => model.LoanAmount, new { placeholder = "LOAN AMOUNT*", id = "LoansAmount", required = "required", onkeypress = "return isNumber(event);", ondrop = "return isNumber(event);", onpaste = "return isNumber(event);", autocomplete = "off", onfocusout = "ConvertLoanAmount()" })
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="single-get-touch">
                                            @*<input type="text" name="loanTenure" placeholder="LOAN TENURE (1-12Months)" required>*@
                                        </div>
                                    </div>
                                    <div class="col-md-6 mr0">
                                        <div class="single-get-touch">
                                            @Html.TextBoxFor(model => model.LoanTenure, new { placeholder = "LOAN TENURE (1-12Months)*", required = "required" })
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="single-get-touch">
                                            <select id="RepmtMethod" name="RepmtMethod" data-live-search="true" required="required">
                                                <option value="" default selected data-tokens="Select Bank">REPAYMENT METHOD</option>
                                                @foreach (var nRepmtMethod in ViewBag.nRepmtMethods)
                                                {
                                                    <option id="RepmtMethod" value="@nRepmtMethod.ID" data-tokens="@nRepmtMethod.Name">@nRepmtMethod.Name</option>
                                                }
                                            </select>
                                        </div>
                                    </div>

                                    @*  <div class="col-md-12">
                    <div class="single-get-check">
                        Any Existing Loan
                        <label class="radiobox">
                            Yes
                            <input type="radio" checked="checked" name="gender">
                            <span class="checkmark"></span>
                        </label>
                        <label class="radiobox">
                            No
                            <input type="radio" name="gender">
                            <span class="checkmark"></span>
                        </label>
                    </div>
                </div>
                <div class="col-md-6 mr0">
                    <div class="single-get-touch">
                        @Html.TextBoxFor(model => model.ExistingLoan, new { placeholder = "OUTSTANDING AMOUNT*", required = "required" })
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="single-get-touch">
                        @Html.TextBoxFor(model => model.ExistingLoan_NoOfMonthsLeft, new { placeholder = "HOW MANY MONTH(S) LEFT*", required = "required" })
                    </div>
                </div>*@

                                    <div class="col-md-12 col-lg-12 formHeaderBg">
                                        <h3 class="formHeader">Bank Information </h3>
                                    </div>
                                    <div class="col-md-6 mr0">
                                        <div class="single-get-touch">
                                            <select id="Bank" name="Bank" data-live-search="true" required="required">
                                                <option default selected data-tokens="Select Bank">SELECT BANK</option>
                                                @foreach (var nBank in ViewBag.nBanks)
                                                {
                                                    <option id="nBanks" value="@nBank.Code" data-tokens="@nBank.Name">@nBank.Name</option>
                                                }
                                            </select>
                                            @*@Html.DropDownListFor(model => model.BankCode, (SelectList)ViewData["nBanks"], "Select Bank", new { @id = "Bank", @required = "required", @name = "Bank" })*@
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="single-get-touch">
                                            @Html.TextBoxFor(model => model.AccountNumber, new { placeholder = "ACCOUNT NUMBER*", required = "required" })
                                        </div>
                                    </div>
                                    <div class="col-md-6 mr0">
                                        <div class="single-get-touch">
                                            @Html.TextBoxFor(model => model.AccountName, new { placeholder = "ACCOUNT NAME*", required = "required" })
                                        </div>
                                    </div>
                                    @*<div class="col-md-6">
                    <div class="single-get-touch">
                        @Html.TextBoxFor(model => model.BVN, new { placeholder = "BANK VERIFICATION NUMBER (BVN)*", required = "required" })
                    </div>
                </div>
                <div class="col-md-12">
                    <div class="single-get-check">

                        <label class="checkbox">

                            <input type="checkbox" checked="checked" name="Terms" required>

                            Any Existing Loan
                        </label>

                    </div>
                </div>
                                    *@
                                    <div class="col-md-12">
                                        <div class="single-get-touch">
                                            <a href="#"> <button type="submit" name="submit" class="btn btn-default btn-sm2 btnAction">Apply Now</button></a>

                                        </div>
                                    </div>



                                </div>
</form>
                    }
                </div>
            </div>
        </div>
    </section>
    <!-- start footer area -->
    
    
    <!-- end of footer area -->
    <script src=@Url.Content("/asset/js/jquery-3.3.1.min.js")></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-easing/1.4.1/jquery.easing.min.js"></script>
    <script src=@Url.Content("/asset/js/jquery-ui.js")></script>
    <script src=@Url.Content("/asset/js/popper.min.js")></script>
    <script src=@Url.Content("/asset/js/bootstrap.min.js")></script>
    <script src=@Url.Content("/asset/js/jquery.nice-select.js")></script>
    <script src=@Url.Content("/asset/js/menumaker.js")></script>
    <script src=@Url.Content("/asset/js/owl.carousel.min.js")></script>
    <script src=@Url.Content("/asset/js/slider.js")></script>
    <script src=@Url.Content("/asset/js/active.js")></script>
    <script src=@Url.Content("/asset/js/jquery-2.2.3.min.js")></script>
    <script type='text/javascript' src=@Url.Content("/asset/js/jquery-2.2.3.min.js")></script>
    <script src=@Url.Content("/Scripts/jquery-1.10.2.min.js")></script>
    

    <script type="text/javascript">



    $(document).ready(function () {

        $("#States").change(function () {
            $("#lgaList").empty();
            $.ajax({
                type: 'POST',
                url: '@Url.Action("getLGAsByStateID","Loans")',
                dataType: 'json',
                data: { id: $("#States").val() },
                success: function (lga) {

                    $.each(lga, function (i, lga) {
                        $("#lgaList").append('<option value="'
                                                   + lga.Value + '">'
                                             + lga.Text + '</option>');
                    });
                },
                error: function (ex) {
                    alert('Failed.' + ex);
                }
            });
            return false;
        })
    });

        function ConvertLoanAmount() {

            var x = document.getElementById("LoansAmount").value;

            x = parseFloat(x).toFixed(2).split('')

            let ii = x.length - 3
            while ((ii -= 3) > 0) {
                x.splice(ii, 0, ',')
            }

            x.value = x.join('');

            document.getElementById("LoansAmount").value = x.value;

        }

        
       
     function isNumber(evt) {
            evt = (evt) ? evt : window.event;
            var charCode = (evt.which) ? evt.which : evt.keyCode;
            if (charCode > 31 && (charCode < 48 || charCode > 57)) {
                return false;
            }
            return true;
        }
</script>
   
